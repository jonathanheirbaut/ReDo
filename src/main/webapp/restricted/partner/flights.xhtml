<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <link rel="icon" href="../../favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="../../resources/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../resources/css/site.css"/>
    <title>#{msg.flightsTitle}</title>

</h:head>

<h:body>


    <div id="page">
        <ui:include src="/resources/template/header.xhtml"/>

        <section id="body" class="container">

            <div class="page-header">
                <h1>#{msg.flightsTitle}</h1>
            </div>
            <section id="sidebar" class="col-md-8">

            </section>
            <section id="sTable" class="col-md-10">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">#{msg.myFlights}</h3>
                    </div>
                        <p:dataTable paginator="true" rows="10" var="flight"
                                     value="#{flightController.findAllByPartner(userController.user.partner)}">
                            <p:column headerText="#{msg.departureDate}">
                                <h:outputText value="#{flight.departureDate}">
                                    <f:convertDateTime type="date" pattern="dd-MM-yyyy HH:mm"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="#{msg.arrivalDate}">
                                <h:outputText value="#{flight.arrivalDate}">
                                    <f:convertDateTime type="date" pattern="dd-MM-yyyy HH:mm"/>
                                </h:outputText>
                            </p:column>

                            <p:column headerText="#{msg.departure}">
                                <h:outputText value="#{flight.departure.name}"/>
                            </p:column>

                            <p:column headerText="#{msg.destination}">
                                <h:outputText value="#{flight.destination.name}"/>
                            </p:column>
                            <p:column headerText="#{msg.partner}">
                                <h:outputText value="#{flight.partner.name}"/>
                            </p:column>
                        </p:dataTable><br/>

                </div>

            </section>
            <div class="col-md-5"><h:link styleClass="btn btn-success" value="#{msg.addFlight}" outcome="add_flight"/></div>
        </section>


        <footer class="container">

        </footer>
    </div>

    <!-- /container -->
    <script src="../../resources/js/bootstrap.min.js"></script>
</h:body>

</html>